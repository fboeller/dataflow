<div [formGroup]="formGroup">
  <div class="flex flex-col gap-2">
    <app-step
      *ngFor="let step of steps.controls; let stepIndex = index"
      [formGroup]="step"
      [evaluation]="(evaluations$ | async)[stepIndex]"
    ></app-step>
  </div>
  <div>
    <button
      class="w-full mt-2 p-4 bg-gray-300 hover:bg-gray-400"
      (click)="addStep()"
    >
      Add another API call
    </button>
  </div>
  <div class="flex gap-2 justify-end">
    <button
      class="mt-2 p-4 bg-red-500 hover:bg-red-600 text-white"
      *ngIf="execution$ | async"
      (click)="clearExecution()"
    >
      Clear execution
    </button>
    <button
      class="mt-2 p-4 bg-blue-600 hover:bg-blue-700 text-white"
      (click)="execute()"
    >
      Execute
    </button>
  </div>
</div>
